quest "test_quest"
{
	type mayor
	
	progress {
		NotAccepted,
		Started,
		Finished
	}
	
	dialog start {
		talk 0
		talk 1
		choice 2
		{
			talk 3
			set_progress Started
			end
		}
		choice 4
		{
			talk 5
			end
		}
		show_choices
	}
	
	dialog progress {
		if script(player.HaveItem("herb", 5))
		{
			choice 0
			{
				talk 1
				set_progress Finished
			}
		}
	}
	
	code {
		void OnProgress() override
		{
			switch(progress)
			{
			case Progress.Started:
				{
					StartQuest("Dostarcz zioła");
					AddQuestEntry("Burmistrz miasta X chce żebym dostarczył mu 5 ziół.");
					talker.AddDialog("progress");
				}
				break;
			case Progress.Finished:
				{
					player.GiveItem(talker, "herb", 5);
					AddQuestEntry("Przekazałem zioła. Zadanie wykonane!");
					FinishQuest();
					AddQuestReward(150);
				}
				break;
			}
		}
	}
}
